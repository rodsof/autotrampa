(this.webpackJsonponline_exam=this.webpackJsonponline_exam||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),o=a.n(s),l=a(65),u=a(23),c=(a(73),a(24)),i=a.n(c),m=a(29),d=a(17),h=a(18),p=a(12),g=a(20),E=a(19),f=a(126),v=(a(75),a(76),a(11)),b=a.n(v),y=a(21),C=a.n(y),k={margin:"5px"},w=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(p.a)(n)),n.state={isLogin:!1,buttons:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.get("token")){e.next=3;break}return this.setState({buttons:r.a.createElement("div",null,r.a.createElement(f.a,{variant:"success",style:k,href:"/login"},"Login"),r.a.createElement(f.a,{variant:"outline-success",style:k,href:"/signup"},"Sign up"))}),e.abrupt("return");case 3:return e.next=5,fetch("http://localhost:5000/users/auth?token="+b.a.get("token")+"&userId="+b.a.get("userId"));case 5:200===e.sent.status?this.setState({buttons:r.a.createElement(f.a,{variant:"success",style:k,onClick:this.logout},"logout")}):this.setState({buttons:r.a.createElement("div",null,r.a.createElement(f.a,{variant:"success",style:k,href:"/login"},"Login"),r.a.createElement(f.a,{variant:"outline-success",style:k,href:"/signup"},"Sign up"))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){C.a.get("http://localhost:5000/users/logout?token="+b.a.get("token")+"&userId="+b.a.get("userId")).then((function(e){b.a.remove("token"),b.a.remove("userId"),window.location="/"})).catch((function(e){b.a.remove("token"),b.a.remove("userId"),window.location="/"}))}},{key:"render",value:function(){return r.a.createElement("nav",{class:"navigation"},r.a.createElement("div",{class:"logo"},r.a.createElement("img",{class:"ius",src:"img/IUSlogo2.png"}),r.a.createElement("span",{class:"user"},"Adem Dugali\u0107")),r.a.createElement("div",{class:"upButtons"},r.a.createElement("div",{class:"links"},r.a.createElement("a",{id:"home",href:"index.html"},r.a.createElement("span",{"data-hover":"Home"},"Home")),r.a.createElement("a",{id:"MyCourses",href:"myCourses.html"},r.a.createElement("span",{"data-hover":"MyCourses"},"My courses")),r.a.createElement("a",{id:"AddCourses",href:"addCourses.html"},r.a.createElement("span",{"data-hover":"AddCourses"},"Add courses")),r.a.createElement("a",{id:"Schedule",href:"schedule.html"},r.a.createElement("span",{"data-hover":"Schedule"},"Schedule")))),r.a.createElement("div",{class:"downButtons"},r.a.createElement("div",{class:"links"},r.a.createElement("a",{id:"LogOut",href:"#"},r.a.createElement("span",{"data-hover":"LogOut"},"Log Out")))))}}]),a}(n.Component),S=a(125),O=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChangePassword=n.onChangePassword.bind(Object(p.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.isLogin=n.isLogin.bind(Object(p.a)(n)),n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.isLogin()||this.setState({email:""})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),C.a.post("http://localhost:5000/users/login",t).then((function(e){console.log(e.data),b.a.set("token",e.data.token),b.a.set("userId",e.data.userId),window.location="/"})).catch((function(e){b.a.remove("token"),b.a.remove("userId"),alert("Error: "+e),window.location="/"}))}},{key:"isLogin",value:function(){return!!b.a.get("token")&&(""!==b.a.get("token")&&""!==b.a.get("userId"))}},{key:"render",value:function(){return r.a.createElement(S.a,{style:{width:"18rem"},className:"mx-auto"},r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,null,"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.email,onChange:this.onChangeEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.password,onChange:this.onChangePassword})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary"})))))}}]),a}(n.Component),j=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(p.a)(n)),n.onChangeSurname=n.onChangeSurname.bind(Object(p.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(p.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(p.a)(n)),n.onChangeRePassword=n.onChangeRePassword.bind(Object(p.a)(n)),n.onChangeFaculty=n.onChangeFaculty.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.state={name:"",surname:"",password:"",repassword:"",faculty:"",email:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeSurname",value:function(e){this.setState({surname:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeFaculty",value:function(e){this.setState({faculty:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeRePassword",value:function(e){this.setState({repassword:e.target.value})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.state.repassword!==this.state.password)return alert("Error"),void(window.location="/signup");var t={name:this.state.name,surname:this.state.surname,password:this.state.password,faculty:this.state.faculty,email:this.state.email};console.log(t),C.a.post("http://localhost:5000/users/signup",t).then((function(e){console.log("Success"),window.location="/login"})).catch((function(e){return alert("Error: "+e)}))}},{key:"render",value:function(){return r.a.createElement(S.a,{style:{width:"18rem"},className:"mx-auto"},r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,null,"Register"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Surname: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.surname,onChange:this.onChangeSurname})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.email,onChange:this.onChangeEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Faculty: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.faculty,onChange:this.onChangeFaculty})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.password,onChange:this.onChangePassword})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Retype your password: "),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.repassword,onChange:this.onChangeRePassword})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Sign up",className:"btn btn-primary"})))))}}]),a}(n.Component),N=a(121),I=a(122),x={paddingLeft:"50px",paddingRight:"50px"},P={padding:"20px"},L=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).updateTable=n.updateTable.bind(Object(p.a)(n)),n.setPage=n.setPage.bind(Object(p.a)(n)),n.state={data:[],page:1,nbOfPage:-1,buttonsGroup:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateTable();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTable",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/courses?page="+this.state.page+"&token="+b.a.get("token")+"&userId="+b.a.get("userId"));case 2:return t=e.sent,e.next=5,t.json();case 5:for(a=e.sent,console.log(a),n=a.nbOfPage,r=[],s=this.state.page<=1?1:n>0&&this.state.page>=n?n-2:this.state.page-1,o=s;o<s+3;o++)r.push(o);this.setState({buttonsGroup:r,data:a.array,nbOfPage:n});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(e){console.log("Select page: "+e),this.state.page=e,this.updateTable()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:x,className:"mx-auto"},r.a.createElement(N.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Lecturer"),r.a.createElement("th",null,"AcademicUnit"),r.a.createElement("th",null,"prerequisite"))),r.a.createElement("tbody",null,this.state.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.course_id),r.a.createElement("td",null,r.a.createElement("a",{href:"https://ecampus.ius.edu.ba/"+e.Url},e.course_name)),r.a.createElement("td",null,e.Lecturer),r.a.createElement("td",null,e.AcademicUnit),r.a.createElement("td",null,e.prerequisite.map((function(e){return e+" "}))))})))),r.a.createElement("div",{className:"mx-auto text-center",style:P},r.a.createElement(I.a,{"aria-label":"Pagination"},r.a.createElement(f.a,{variant:"secondary",href:"#Page: 1",onClick:function(){return e.setPage(1)}},"First"),this.state.buttonsGroup.map((function(t,a){return r.a.createElement(f.a,{href:"#Page:"+t,variant:t!==e.state.page?"secondary":"primary",key:a,onClick:function(){return e.setPage(t)}},t)})),r.a.createElement(f.a,{variant:"secondary",href:"#Page:"+this.state.nbOfPage,onClick:function(){return e.setPage(e.state.nbOfPage)}},"Last"))))}}]),a}(n.Component),U=a(124),R=a(64),G=a(123),q=a(67),M={textAlign:"center"},T=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onInputChange=n.onInputChange.bind(Object(p.a)(n)),n.addCourse=n.addCourse.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.removeCourse=n.removeCourse.bind(Object(p.a)(n)),n.state={UserCourses:[],options:[],selected:void 0,type:"Regular",order:"Primary",ref:r.a.createRef()},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:5000/users?token="+b.a.get("token")+"&userId="+b.a.get("userId")).then((function(t){e.setState({UserCourses:t.data.courses})})).catch((function(e){alert("Error: "+e)}))}},{key:"onInputChange",value:function(e){var t=this;e.length<3||C.a.get("http://localhost:5000/courses/search?value="+e+"&token="+b.a.get("token")+"&userId="+b.a.get("userId")).then((function(e){var a=[];e.data.forEach((function(e,t){a.push({id:e._id,label:e.course_id+" "+e.course_name})})),t.setState({options:a})})).catch((function(e){alert("Error: "+e)}))}},{key:"removeCourse",value:function(e){console.log(e),this.state.UserCourses.splice(e,1),this.setState({UserCourses:this.state.UserCourses})}},{key:"addCourse",value:function(){void 0!==this.state.selected&&(this.state.UserCourses.push({order:this.state.order,type:this.state.type,course_id:this.state.selected[0].id,code:this.state.selected[0].label.split(" ")[0]}),this.setState({UserCourses:this.state.UserCourses,selected:void 0,options:[]}),this.state.ref.current.clear(),document.getElementById("coursesSelection"))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("Submitting"),console.log(this.state.UserCourses);var t={userId:b.a.get("userId"),courses:this.state.UserCourses};console.log(t),C.a.post("http://localhost:5000/users/setUserCourses?token="+b.a.get("token")+"&userId="+b.a.get("userId"),t).then((function(e){console.log(e),window.location="/UserCourses"})).catch((function(e){alert("Error: "+e),window.location="/UserCourses"}))}},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{style:{width:"80%"},className:"mx-auto"},r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,null,"User courses"),r.a.createElement(U.a,{onSubmit:this.onSubmit},r.a.createElement(U.a.Row,null,r.a.createElement(U.a.Group,{as:R.a,controlId:"formGridEmail"},r.a.createElement("fieldset",{disabled:!0},r.a.createElement(U.a.Label,null,"User"),r.a.createElement(U.a.Control,{placeholder:b.a.get("userId")})))),r.a.createElement(U.a.Row,null,r.a.createElement(U.a.Group,{as:R.a,controlId:"formGridCourse"},r.a.createElement(U.a.Label,null,"Course"),r.a.createElement(q.a,{id:"coursesSelection",onInputChange:this.onInputChange,onChange:function(t){e.setState({selected:t})},options:this.state.options,ref:this.state.ref})),r.a.createElement(U.a.Group,{as:R.a,controlId:"formGridType"},r.a.createElement(U.a.Label,null,"Course type"),r.a.createElement(U.a.Control,{as:"select",value:this.state.type,onChange:function(t){e.setState({type:t.target.value})}},r.a.createElement("option",null,"Regular"),r.a.createElement("option",null,"Elective"))),r.a.createElement(U.a.Group,{as:R.a,controlId:"formGridOrder"},r.a.createElement(U.a.Label,null,"Order"),r.a.createElement("br",null),r.a.createElement(G.a,{className:"mb-3"},r.a.createElement(U.a.Control,{as:"select",value:this.state.order,onChange:function(t){e.setState({order:t.target.value})}},r.a.createElement("option",null,"Primary"),r.a.createElement("option",null,"Secondary")),r.a.createElement(G.a.Append,null,r.a.createElement(f.a,{variant:"outline-secondary",onClick:this.addCourse},"Add"))))),r.a.createElement(N.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Order"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,this.state.UserCourses.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.code),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.order),r.a.createElement("td",{key:a,style:M},r.a.createElement(f.a,{variant:"danger",onClick:function(){return e.removeCourse(a)}},"Remove")))})))),r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary"}))))}}]),a}(n.Component),A={maxWidth:"100%",paddingLeft:"0px",paddingRight:"0px"};var D=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"container",style:A},r.a.createElement(w,null),r.a.createElement("br",null),r.a.createElement(u.a,{path:"/login",component:O}),r.a.createElement(u.a,{path:"/Signup",component:j}),r.a.createElement(u.a,{path:"/Courses",component:L}),r.a.createElement(u.a,{path:"/UserCourses",component:T})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))},68:function(e,t,a){e.exports=a(119)},75:function(e,t,a){},76:function(e,t,a){e.exports=a.p+"static/media/Montserrat-Regular.ee653992.ttf"}},[[68,1,2]]]);
//# sourceMappingURL=main.626bc093.chunk.js.map